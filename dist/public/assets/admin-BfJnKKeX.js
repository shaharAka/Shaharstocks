import{c as E,r as d,u as F,e as b,b as Xe,q as o,j as e,cf as bt,cg as St,B as m,ch as we,v as p,ci as Ct,cj as At,k as kt,a as Mt,d as Et,ck as Pt,a7 as Ue,cl as Dt,H as Ft,C as v,f,g,h as N,R as Tt,cm as be,A as $t,i as qt,aw as Ot,cn as Kt,co as Rt,cp as Qt,cq as Vt,cr as et,cs as k,E as Lt,a9 as tt,V as h,W as I,D as z,l as H,m as B,n as G,o as J,a5 as X}from"./index-DI4YInPS.js";import{T as le}from"./textarea-BbOWcGDL.js";import{S as It}from"./switch-DQ4dWgf9.js";import{S as oe,a as me,b as ue,c as he,d as w}from"./select-CpnPcG5S.js";import{T as zt,a as Ht,b as Se,c as Ce}from"./tabs-D7P84Hx4.js";import{D as Bt}from"./dollar-sign-DIwU8lDS.js";import{P as st}from"./plus-Dkh6wZPX.js";import{f as D}from"./format-SREgmwu8.js";import"./index-B-eDo8U8.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=E("ArchiveRestore",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=E("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=E("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=E("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=E("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=E("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=E("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=E("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=E("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function Xt(){const[n,xe]=d.useState(!1),{data:c=[]}=F({queryKey:["/api/admin/notifications"]}),{data:x}=F({queryKey:["/api/admin/notifications/unread-count"]}),U=b({mutationFn:r=>Xe("POST",`/api/admin/notifications/${r}/read`,{}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/notifications"]}),o.invalidateQueries({queryKey:["/api/admin/notifications/unread-count"]})}}),ee=b({mutationFn:async()=>await Xe("POST","/api/admin/notifications/mark-all-read",{}),onMutate:async()=>{await o.cancelQueries({queryKey:["/api/admin/notifications/unread-count"]});const r=o.getQueryData(["/api/admin/notifications/unread-count"]);return o.setQueryData(["/api/admin/notifications/unread-count"],{count:0}),{previousCount:r}},onError:(r,se,j)=>{j!=null&&j.previousCount&&o.setQueryData(["/api/admin/notifications/unread-count"],j.previousCount)},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/notifications"]}),o.invalidateQueries({queryKey:["/api/admin/notifications/unread-count"]})}}),A=(x==null?void 0:x.count)||0,M=r=>{r.isRead||U.mutate(r.id)},te=()=>{ee.mutate()},T=r=>{switch(r){case"user_signup":return Zt;default:return we}};return e.jsxs(bt,{open:n,onOpenChange:xe,children:[e.jsx(St,{asChild:!0,children:e.jsxs(m,{size:"icon",variant:"ghost",className:"relative h-11 w-11","data-testid":"button-admin-notifications",children:[e.jsx(we,{className:`h-5 w-5 ${A>0?"text-primary":""}`}),A>0&&e.jsx(p,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 min-w-5 rounded-full px-1 text-xs","data-testid":"badge-admin-notification-count",children:A})]})}),e.jsxs(Ct,{className:"w-96 p-0",align:"end","data-testid":"popover-admin-notifications",children:[e.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"font-semibold",children:"Admin Notifications"}),A>0&&e.jsxs(p,{variant:"secondary",className:"text-xs",children:[A," unread"]})]}),A>0&&e.jsx(m,{size:"sm",variant:"ghost",onClick:te,disabled:ee.isPending,"data-testid":"button-mark-all-notifications-read",children:"Mark all read"})]}),e.jsx(At,{className:"h-80",children:c.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(we,{className:"h-12 w-12 text-muted-foreground mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No notifications yet"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"You'll see new user signups here"})]}):e.jsx("div",{className:"divide-y","data-testid":"list-admin-notifications",children:c.map(r=>{var j;const se=T(r.type);return e.jsx("div",{role:"button",tabIndex:0,onClick:()=>M(r),onKeyDown:W=>{(W.key==="Enter"||W.key===" ")&&(W.preventDefault(),M(r))},className:`p-4 cursor-pointer hover-elevate focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 ${r.isRead?"":"bg-accent/50"}`,"data-testid":`admin-notification-${r.id}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4 shrink-0"}),e.jsx("span",{className:"font-semibold",children:r.title})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.message}),((j=r.metadata)==null?void 0:j.userEmail)&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",r.metadata.userEmail]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:kt(new Date(r.createdAt),{addSuffix:!0})})]}),!r.isRead&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-primary shrink-0 mt-1"})]})},r.id)})})})]})]})}function cs(){var Ye,Ze;const{user:n,isLoading:xe}=Mt(),{toast:c}=Et(),[x,U]=d.useState(()=>sessionStorage.getItem("adminSecret")||""),[ee,A]=d.useState(!x),[M,te]=d.useState(""),[T,r]=d.useState(!1),[se,j]=d.useState(!1),[W,ae]=d.useState(!1),[rt,ne]=d.useState(!1),[Ae,ke]=d.useState(!1),[dt,O]=d.useState(!1),[$,ie]=d.useState(null),[l,q]=d.useState(null),[Me,Ee]=d.useState("1"),[Pe,De]=d.useState(""),[re,Fe]=d.useState(""),[de,Te]=d.useState(""),[$e,qe]=d.useState("manual"),[Oe,Ke]=d.useState(""),[_,K]=d.useState(""),[Y,R]=d.useState(""),[pe,Q]=d.useState("announcement"),[ce,Re]=d.useState(""),[Qe,Ve]=d.useState(""),[je,Le]=d.useState(""),[Ie,ye]=d.useState(""),ze=()=>{M&&(U(M),sessionStorage.setItem("adminSecret",M),A(!1),te(""))},ct=()=>{U(""),sessionStorage.removeItem("adminSecret"),A(!0)},{data:u,isLoading:lt}=F({queryKey:["/api/users",T],enabled:!!(n!=null&&n.isAdmin),queryFn:async()=>{const t=new URLSearchParams;T&&t.append("includeArchived","true");const s=`/api/users${t.toString()?`?${t.toString()}`:""}`,a=await fetch(s,{credentials:"include"});if(!a.ok)throw new Error("Failed to fetch users");return a.json()}}),{data:y}=F({queryKey:["/api/admin/user-payments",l==null?void 0:l.id],enabled:Ae&&!!l&&!!x,queryFn:async()=>{const t=await fetch(`/api/admin/user-payments/${l.id}`,{headers:{"x-admin-secret":x},credentials:"include"});if(!t.ok){const s=await t.json();throw new Error(s.error||"Failed to fetch payments")}return t.json()}}),P=b({mutationFn:async({endpoint:t,email:s,body:a})=>{if(!x)throw new Error("Admin secret not set");const C=await fetch(t,{method:t.includes("delete-user")?"DELETE":"POST",headers:{"Content-Type":"application/json","x-admin-secret":x},body:JSON.stringify({email:s,...a}),credentials:"include"});if(!C.ok){const wt=await C.json();throw new Error(wt.error||"Action failed")}return C.json()},onSuccess:(t,s)=>{o.invalidateQueries({queryKey:["/api/users"]});const a=s.endpoint.split("/").pop();c({title:"Success",description:`${a} completed successfully`})},onError:t=>{c({title:"Error",description:t.message,variant:"destructive"})}}),He=b({mutationFn:async t=>{if(!x)throw new Error("Admin secret not set");const s=await fetch("/api/admin/activate-subscription",{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":x},body:JSON.stringify({email:t}),credentials:"include"});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to activate subscription")}return s.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/users"]}),c({title:"Success",description:"Subscription activated successfully"})},onError:t=>{c({title:"Error",description:t.message||"Failed to activate subscription",variant:"destructive"})}}),ot=b({mutationFn:async t=>{if(!x)throw new Error("Admin secret not set");const s=await fetch("/api/admin/create-super-admin",{method:"POST",headers:{"Content-Type":"application/json","x-admin-secret":x},body:JSON.stringify({email:t}),credentials:"include"});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to promote user")}return s.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/users"]}),c({title:"Success",description:"User promoted to admin successfully"})},onError:t=>{c({title:"Error",description:t.message||"Failed to promote user",variant:"destructive"})}}),mt=()=>{l&&P.mutate({endpoint:"/api/admin/extend-subscription",email:l.email,body:{months:parseInt(Me),reason:Pe}},{onSuccess:()=>{j(!1),Ee("1"),De(""),q(null)}})},ut=()=>{!l||!re||P.mutate({endpoint:"/api/admin/reset-password",email:l.email,body:{newPassword:re}},{onSuccess:()=>{ae(!1),Fe(""),q(null)}})},ht=()=>{!l||!de||P.mutate({endpoint:"/api/admin/create-payment",email:l.email,body:{amount:parseFloat(de),paymentMethod:$e,notes:Oe}},{onSuccess:()=>{ne(!1),Te(""),qe("manual"),Ke(""),q(null)}})},{data:Be=[]}=F({queryKey:["/api/announcements/all"],enabled:!!(n!=null&&n.isAdmin)}),{data:S}=F({queryKey:["/api/version"],enabled:!!(n!=null&&n.isAdmin)}),ve=b({mutationFn:async({appVersion:t,releaseNotes:s})=>{const a=await fetch("/api/admin/version",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({appVersion:t,releaseNotes:s}),credentials:"include"});if(!a.ok){const C=await a.json();throw new Error(C.error||"Failed to update version")}return a.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/version"]}),c({title:"Success",description:"App version updated successfully"})},onError:t=>{c({title:"Error",description:t.message,variant:"destructive"})}}),{data:i,isLoading:xt}=F({queryKey:["/api/admin/ai-provider"],enabled:!!(n!=null&&n.isAdmin)}),fe=je||(i==null?void 0:i.provider)||"openai",{data:V,isLoading:Z,refetch:pt}=F({queryKey:["/api/admin/ai-provider/models",fe],queryFn:async()=>{const t=await fetch(`/api/admin/ai-provider/models?provider=${fe}`,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch models");return t.json()},enabled:!!(n!=null&&n.isAdmin),staleTime:1e3*60*5}),ge=b({mutationFn:async({provider:t,model:s})=>{const a=await fetch("/api/admin/ai-provider",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:t,model:s}),credentials:"include"});if(!a.ok){const C=await a.json();throw new Error(C.error||"Failed to update AI provider")}return a.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/ai-provider"]}),c({title:"Success",description:"AI provider updated successfully"})},onError:t=>{c({title:"Error",description:t.message,variant:"destructive"})}}),Ge=b({mutationFn:async()=>{const t=await fetch("/api/announcements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:_,content:Y,type:pe}),credentials:"include"});if(!t.ok){const s=await t.json();throw new Error(s.error||"Failed to create announcement")}return t.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/announcements/all"]}),o.invalidateQueries({queryKey:["/api/announcements"]}),O(!1),K(""),R(""),Q("announcement"),c({title:"Success",description:"Announcement created successfully"})},onError:t=>{c({title:"Error",description:t.message,variant:"destructive"})}});b({mutationFn:async t=>{const s=await fetch(`/api/announcements/${t}/deactivate`,{method:"PATCH",credentials:"include"});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to deactivate announcement")}return s.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/announcements/all"]}),o.invalidateQueries({queryKey:["/api/announcements"]}),c({title:"Success",description:"Announcement deactivated successfully"})},onError:t=>{c({title:"Error",description:t.message,variant:"destructive"})}});const Je=b({mutationFn:async({id:t,data:s})=>{const a=await fetch(`/api/announcements/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),credentials:"include"});if(!a.ok){const C=await a.json();throw new Error(C.error||"Failed to update announcement")}return a.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/announcements/all"]}),o.invalidateQueries({queryKey:["/api/announcements"]}),ie(null),O(!1),K(""),R(""),Q("announcement"),c({title:"Success",description:"Announcement updated successfully"})},onError:t=>{c({title:"Error",description:t.message,variant:"destructive"})}}),We=b({mutationFn:async t=>{const s=await fetch(`/api/announcements/${t}`,{method:"DELETE",credentials:"include"});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to delete announcement")}return s.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/announcements/all"]}),o.invalidateQueries({queryKey:["/api/announcements"]}),c({title:"Success",description:"Announcement deleted successfully"})},onError:t=>{c({title:"Error",description:t.message,variant:"destructive"})}}),_e=b({mutationFn:async({id:t,isActive:s})=>{const a=await fetch(`/api/announcements/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:s}),credentials:"include"});if(!a.ok){const C=await a.json();throw new Error(C.error||"Failed to toggle announcement status")}return a.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/announcements/all"]}),o.invalidateQueries({queryKey:["/api/announcements"]})},onError:t=>{c({title:"Error",description:t.message,variant:"destructive"})}}),jt=()=>{!_||!Y||Ge.mutate()},yt=()=>{$&&Je.mutate({id:$.id,data:{title:_,content:Y,type:pe}})},vt=t=>{ie(t),K(t.title),R(t.content),Q(t.type),O(!0)};if(xe)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading..."})});if(!(n!=null&&n.isAdmin))return e.jsx(Pt,{to:"/"});const L=T?u:u==null?void 0:u.filter(t=>!t.archived),ft=(u==null?void 0:u.filter(t=>t.subscriptionStatus==="active"&&!t.archived).length)||0,gt=(u==null?void 0:u.filter(t=>t.subscriptionStatus==="inactive"&&!t.archived).length)||0,Nt=(u==null?void 0:u.filter(t=>t.isAdmin&&!t.archived).length)||0,Ne=(u==null?void 0:u.filter(t=>t.archived).length)||0;return e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-8 flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2","data-testid":"text-admin-title",children:"Super Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive user management, subscriptions, and payment tracking"})]}),(n==null?void 0:n.isSuperAdmin)&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Xt,{})})]}),e.jsxs(zt,{defaultValue:"users",className:"space-y-6",children:[e.jsxs(Ht,{children:[e.jsxs(Se,{value:"users","data-testid":"tab-user-management",children:[e.jsx(Ue,{className:"w-4 h-4 mr-2"}),"User Management"]}),e.jsxs(Se,{value:"announcements","data-testid":"tab-announcements",children:[e.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Announcements"]}),e.jsxs(Se,{value:"settings","data-testid":"tab-settings",children:[e.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Settings"]})]}),e.jsxs(Ce,{value:"users",className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(v,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[e.jsx(g,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(Ue,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(N,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:((u==null?void 0:u.length)||0)-Ne}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ne," archived"]})]})]}),e.jsxs(v,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[e.jsx(g,{className:"text-sm font-medium",children:"Active Subscriptions"}),e.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(N,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-active-subscriptions",children:ft})})]}),e.jsxs(v,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[e.jsx(g,{className:"text-sm font-medium",children:"Inactive Users"}),e.jsx(Bt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(N,{children:e.jsx("div",{className:"text-2xl font-bold text-orange-600","data-testid":"text-inactive-users",children:gt})})]}),e.jsxs(v,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[e.jsx(g,{className:"text-sm font-medium",children:"Admins"}),e.jsx(be,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(N,{children:e.jsx("div",{className:"text-2xl font-bold text-blue-600","data-testid":"text-admin-count",children:Nt})})]})]}),e.jsxs(v,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between",children:[e.jsx(g,{children:"Users"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{variant:"outline",size:"sm",onClick:()=>r(!T),"data-testid":"button-toggle-archived",children:T?"Hide Archived":`Show Archived (${Ne})`}),x&&e.jsxs(m,{variant:"outline",size:"sm",onClick:ct,"data-testid":"button-clear-secret",children:[e.jsx(nt,{className:"w-4 h-4 mr-1"}),"Clear Secret"]})]})]}),e.jsx(N,{children:lt?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading users..."}):e.jsxs("div",{className:"space-y-4",children:[L==null?void 0:L.map(t=>e.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg hover-elevate ${t.archived?"opacity-60":""}`,"data-testid":`row-user-${t.id}`,children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[e.jsx($t,{children:e.jsx(qt,{style:{backgroundColor:t.avatarColor},children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx("p",{className:"font-medium truncate","data-testid":`text-name-${t.id}`,children:t.name}),t.isAdmin&&e.jsxs(p,{variant:"secondary",className:"shrink-0",children:[e.jsx(be,{className:"w-3 h-3 mr-1"}),"Admin"]}),t.archived&&e.jsxs(p,{variant:"destructive",className:"shrink-0",children:[e.jsx(at,{className:"w-3 h-3 mr-1"}),"Archived"]}),!t.emailVerified&&!t.archived&&e.jsxs(p,{variant:"outline",className:"shrink-0 text-amber-600 border-amber-600",children:[e.jsx(it,{className:"w-3 h-3 mr-1"}),"Unverified"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground truncate","data-testid":`text-email-${t.id}`,children:t.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[e.jsx(p,{variant:t.subscriptionStatus==="active"?"default":t.subscriptionStatus==="cancelled"?"destructive":"secondary","data-testid":`badge-status-${t.id}`,children:t.subscriptionStatus}),t.subscriptionStartDate&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Started: ",D(new Date(t.subscriptionStartDate),"MMM d, yyyy")]}),t.subscriptionEndDate&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Ends: ",D(new Date(t.subscriptionEndDate),"MMM d, yyyy")]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[t.subscriptionStatus!=="active"&&!t.archived&&e.jsxs(m,{size:"sm",variant:"outline",onClick:()=>He.mutate(t.email),disabled:He.isPending,"data-testid":`button-activate-${t.id}`,children:[e.jsx(Ot,{className:"w-4 h-4 mr-1"}),"Activate"]}),e.jsxs(Kt,{children:[e.jsx(Rt,{asChild:!0,children:e.jsx(m,{variant:"outline",size:"sm","data-testid":`button-menu-${t.id}`,children:e.jsx(Wt,{className:"h-4 w-4"})})}),e.jsxs(Qt,{align:"end",className:"w-56",children:[e.jsx(Vt,{children:"User Actions"}),e.jsx(et,{}),!t.isAdmin&&e.jsxs(k,{onClick:()=>ot.mutate(t.email),"data-testid":`menu-promote-${t.id}`,children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),"Make Admin"]}),(n==null?void 0:n.isSuperAdmin)&&!t.emailVerified&&!t.archived&&e.jsxs(k,{onClick:()=>P.mutate({endpoint:"/api/admin/verify-email",email:t.email}),"data-testid":`menu-verify-email-${t.id}`,children:[e.jsx(it,{className:"mr-2 h-4 w-4"}),"Verify Email"]}),t.subscriptionStatus==="active"&&!t.archived&&e.jsxs(k,{onClick:()=>P.mutate({endpoint:"/api/admin/deactivate-subscription",email:t.email}),"data-testid":`menu-deactivate-${t.id}`,children:[e.jsx(Jt,{className:"mr-2 h-4 w-4"}),"Deactivate Subscription"]}),e.jsxs(k,{onClick:()=>{q(t),j(!0)},"data-testid":`menu-extend-${t.id}`,children:[e.jsx(Lt,{className:"mr-2 h-4 w-4"}),"Extend Subscription"]}),e.jsxs(k,{onClick:()=>{q(t),ae(!0)},"data-testid":`menu-reset-password-${t.id}`,children:[e.jsx(nt,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),e.jsxs(k,{onClick:()=>{q(t),ke(!0)},"data-testid":`menu-view-payments-${t.id}`,children:[e.jsx(Yt,{className:"mr-2 h-4 w-4"}),"View Payments"]}),e.jsxs(k,{onClick:()=>{q(t),ne(!0)},"data-testid":`menu-create-payment-${t.id}`,children:[e.jsx(st,{className:"mr-2 h-4 w-4"}),"Create Payment"]}),e.jsx(et,{}),t.archived?e.jsxs(k,{onClick:()=>P.mutate({endpoint:"/api/admin/unarchive-user",email:t.email}),"data-testid":`menu-unarchive-${t.id}`,children:[e.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Unarchive User"]}):e.jsxs(k,{onClick:()=>P.mutate({endpoint:"/api/admin/archive-user",email:t.email}),"data-testid":`menu-archive-${t.id}`,children:[e.jsx(at,{className:"mr-2 h-4 w-4"}),"Archive User"]}),e.jsxs(k,{onClick:()=>{confirm(`Are you sure you want to permanently delete ${t.name}? This cannot be undone.`)&&P.mutate({endpoint:"/api/admin/delete-user",email:t.email})},className:"text-destructive","data-testid":`menu-delete-${t.id}`,children:[e.jsx(tt,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})]})]},t.id)),(L==null?void 0:L.length)===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No users found"})]})})]})]}),e.jsx(Ce,{value:"announcements",className:"space-y-6",children:e.jsxs(v,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between gap-2",children:[e.jsx(g,{children:"Announcements"}),e.jsxs(m,{onClick:()=>O(!0),"data-testid":"button-create-announcement",children:[e.jsx(st,{className:"w-4 h-4 mr-1"}),"Create Announcement"]})]}),e.jsx(N,{children:Be.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No announcements yet. Create one to notify all users."}):e.jsx("div",{className:"space-y-4",children:Be.map(t=>e.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 border rounded-lg hover-elevate","data-testid":`announcement-${t.id}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-semibold",children:t.title}),e.jsx(p,{variant:t.type==="feature"?"default":t.type==="update"?"secondary":t.type==="maintenance"?"destructive":"outline",className:"capitalize",children:t.type}),e.jsx(p,{variant:t.isActive?"default":"outline",children:t.isActive?"Published":"Draft"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:t.content}),e.jsx("p",{className:"text-xs text-muted-foreground",children:D(new Date(t.createdAt),"MMM d, yyyy 'at' h:mm a")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{htmlFor:`active-${t.id}`,className:"text-xs text-muted-foreground",children:t.isActive?"Active":"Inactive"}),e.jsx(It,{id:`active-${t.id}`,checked:t.isActive,onCheckedChange:s=>_e.mutate({id:t.id,isActive:s}),disabled:_e.isPending,"data-testid":`switch-active-${t.id}`})]}),e.jsx(m,{variant:"outline",size:"sm",onClick:()=>vt(t),"data-testid":`button-edit-${t.id}`,children:e.jsx(_t,{className:"w-4 h-4"})}),(n==null?void 0:n.isSuperAdmin)&&e.jsx(m,{variant:"outline",size:"sm",onClick:()=>We.mutate(t.id),disabled:We.isPending,"data-testid":`button-delete-${t.id}`,children:e.jsx(tt,{className:"w-4 h-4"})})]})]},t.id))})})]})}),e.jsxs(Ce,{value:"settings",className:"space-y-6",children:[e.jsxs(v,{children:[e.jsx(f,{children:e.jsx(g,{children:"App Version"})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Version:"}),e.jsx(p,{variant:"outline",className:"font-mono","data-testid":"text-current-version",children:(S==null?void 0:S.version)||"1.0.0"})]}),(S==null?void 0:S.releaseNotes)&&e.jsx("p",{className:"text-sm text-muted-foreground",children:S.releaseNotes}),(S==null?void 0:S.updatedAt)&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last updated: ",D(new Date(S.updatedAt),"MMM d, yyyy 'at' h:mm a")]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"version",children:"New Version"}),e.jsx(I,{id:"version",placeholder:"e.g., 1.2.0",value:ce,onChange:t=>Re(t.target.value),"data-testid":"input-version"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"releaseNotes",children:"Release Notes (Optional)"}),e.jsx(le,{id:"releaseNotes",placeholder:"What's new in this version?",value:Qe,onChange:t=>Ve(t.target.value),"data-testid":"input-release-notes"})]}),e.jsx(m,{onClick:()=>{if(!ce.trim()){c({title:"Error",description:"Please enter a version number",variant:"destructive"});return}ve.mutate({appVersion:ce.trim(),releaseNotes:Qe.trim()}),Re(""),Ve("")},disabled:ve.isPending||!ce.trim(),"data-testid":"button-update-version",children:ve.isPending?"Updating...":"Update Version"})]})]})]}),e.jsxs(v,{children:[e.jsx(f,{children:e.jsx(g,{children:"AI Provider Configuration"})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Provider:"}),e.jsx(p,{variant:"outline",className:"font-mono","data-testid":"text-current-ai-provider",children:(i==null?void 0:i.provider)==="gemini"?"Google Gemini":"OpenAI GPT"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Model:"}),e.jsx(p,{variant:"outline",className:"font-mono","data-testid":"text-current-ai-model",children:(i==null?void 0:i.model)||((i==null?void 0:i.provider)==="gemini"?"gemini-2.5-flash":"gpt-4o")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"ai-provider",children:"Select AI Provider"}),e.jsxs(oe,{value:je||(i==null?void 0:i.provider)||"openai",onValueChange:t=>{Le(t),ye("")},children:[e.jsx(me,{"data-testid":"select-ai-provider",children:e.jsx(ue,{placeholder:"Select AI provider"})}),e.jsxs(he,{children:[e.jsx(w,{value:"openai","data-testid":"select-item-openai",children:"OpenAI"}),e.jsx(w,{value:"gemini","data-testid":"select-item-gemini",children:"Google Gemini"})]})]}),(i==null?void 0:i.availableProviders)&&e.jsx("p",{className:"text-xs text-muted-foreground",children:i.availableProviders.map(t=>`${t.name}: ${t.available?"Available":"API key not configured"}`).join(" | ")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"ai-model",children:"Select Model"}),e.jsxs(oe,{value:Ie||(i==null?void 0:i.model)||"",onValueChange:ye,disabled:Z,children:[e.jsx(me,{"data-testid":"select-ai-model",children:e.jsx(ue,{placeholder:Z?"Loading models...":"Select model"})}),e.jsx(he,{children:(Ye=V==null?void 0:V.models)==null?void 0:Ye.map(t=>e.jsx(w,{value:t,"data-testid":`select-item-model-${t}`,children:t},t))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:Z?"Fetching available models from provider...":`${((Ze=V==null?void 0:V.models)==null?void 0:Ze.length)||0} models available from ${fe==="gemini"?"Google Gemini":"OpenAI"}`}),e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>pt(),disabled:Z,className:"h-6 text-xs","data-testid":"button-refresh-models",children:Z?"Loading...":"Refresh"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Changes affect all AI-powered features: stock analysis, macro sector analysis, and backtest scenario generation."}),e.jsx(m,{onClick:()=>{const t=je||(i==null?void 0:i.provider);if(!t||!["openai","gemini"].includes(t)){c({title:"Error",description:"Please select a valid AI provider",variant:"destructive"});return}const s=Ie||(i==null?void 0:i.model)||void 0;ge.mutate({provider:t,model:s}),Le(""),ye("")},disabled:ge.isPending||xt,"data-testid":"button-update-ai-provider",children:ge.isPending?"Updating...":"Update AI Provider"})]})]})]})]})]}),e.jsx(z,{open:se,onOpenChange:j,children:e.jsxs(H,{children:[e.jsxs(B,{children:[e.jsx(G,{children:"Extend Subscription"}),e.jsxs(J,{children:["Manually extend subscription for ",l==null?void 0:l.name]})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"months",children:"Number of Months"}),e.jsx(I,{id:"months",type:"number",min:"1",max:"120",value:Me,onChange:t=>Ee(t.target.value),"data-testid":"input-extend-months"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"reason",children:"Reason (Optional)"}),e.jsx(le,{id:"reason",placeholder:"Why are you extending this subscription?",value:Pe,onChange:t=>De(t.target.value),"data-testid":"input-extend-reason"})]})]}),e.jsxs(X,{children:[e.jsx(m,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(m,{onClick:mt,"data-testid":"button-confirm-extend",children:"Extend Subscription"})]})]})}),e.jsx(z,{open:W,onOpenChange:ae,children:e.jsxs(H,{children:[e.jsxs(B,{children:[e.jsx(G,{children:"Reset Password"}),e.jsxs(J,{children:["Set a new password for ",l==null?void 0:l.name]})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"newPassword",children:"New Password"}),e.jsx(I,{id:"newPassword",type:"password",placeholder:"Minimum 8 characters",value:re,onChange:t=>Fe(t.target.value),"data-testid":"input-new-password"})]})}),e.jsxs(X,{children:[e.jsx(m,{variant:"outline",onClick:()=>ae(!1),children:"Cancel"}),e.jsx(m,{onClick:ut,disabled:re.length<8,"data-testid":"button-confirm-reset",children:"Reset Password"})]})]})}),e.jsx(z,{open:rt,onOpenChange:ne,children:e.jsxs(H,{children:[e.jsxs(B,{children:[e.jsx(G,{children:"Create Manual Payment"}),e.jsxs(J,{children:["Record a manual payment for ",l==null?void 0:l.name]})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"amount",children:"Amount ($)"}),e.jsx(I,{id:"amount",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:de,onChange:t=>Te(t.target.value),"data-testid":"input-payment-amount"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"paymentMethod",children:"Payment Method"}),e.jsxs(oe,{value:$e,onValueChange:qe,children:[e.jsx(me,{"data-testid":"select-payment-method",children:e.jsx(ue,{})}),e.jsxs(he,{children:[e.jsx(w,{value:"manual",children:"Manual"}),e.jsx(w,{value:"cash",children:"Cash"}),e.jsx(w,{value:"check",children:"Check"}),e.jsx(w,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(w,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"notes",children:"Notes"}),e.jsx(le,{id:"notes",placeholder:"Add any notes about this payment",value:Oe,onChange:t=>Ke(t.target.value),"data-testid":"input-payment-notes"})]})]}),e.jsxs(X,{children:[e.jsx(m,{variant:"outline",onClick:()=>ne(!1),children:"Cancel"}),e.jsx(m,{onClick:ht,disabled:!de,"data-testid":"button-confirm-payment",children:"Create Payment"})]})]})}),e.jsx(z,{open:Ae,onOpenChange:ke,children:e.jsxs(H,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(B,{children:[e.jsxs(G,{children:["Payment History - ",l==null?void 0:l.name]}),e.jsx(J,{children:"Complete payment and subscription history"})]}),y&&e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(v,{children:[e.jsx(f,{className:"pb-2",children:e.jsx(g,{className:"text-sm font-medium",children:"Total Paid"})}),e.jsx(N,{children:e.jsxs("div",{className:"text-2xl font-bold",children:["$",parseFloat(y.stats.totalPaid).toFixed(2)]})})]}),e.jsxs(v,{children:[e.jsx(f,{className:"pb-2",children:e.jsx(g,{className:"text-sm font-medium",children:"Last Payment"})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.stats.lastPaymentAmount?`$${parseFloat(y.stats.lastPaymentAmount).toFixed(2)}`:"N/A"}),y.stats.lastPaymentDate&&e.jsx("p",{className:"text-xs text-muted-foreground",children:D(new Date(y.stats.lastPaymentDate),"MMM d, yyyy")})]})]}),e.jsxs(v,{children:[e.jsx(f,{className:"pb-2",children:e.jsx(g,{className:"text-sm font-medium",children:"Payment Count"})}),e.jsx(N,{children:e.jsx("div",{className:"text-2xl font-bold",children:y.stats.paymentCount})})]}),e.jsxs(v,{children:[e.jsx(f,{className:"pb-2",children:e.jsx(g,{className:"text-sm font-medium",children:"Manual Extensions"})}),e.jsx(N,{children:e.jsx("div",{className:"text-2xl font-bold",children:y.overrides.length})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Payment History"}),y.payments.length>0?e.jsx("div",{className:"space-y-2",children:y.payments.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["$",parseFloat(t.amount).toFixed(2)]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[D(new Date(t.paymentDate),"MMM d, yyyy")," â€¢ ",t.paymentMethod]}),t.notes&&e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:t.notes})]}),e.jsx(p,{variant:t.status==="completed"?"default":"secondary",children:t.status})]},t.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No payments recorded"})]}),y.overrides.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Manual Subscription Extensions"}),e.jsx("div",{className:"space-y-2",children:y.overrides.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[t.monthsExtended," month",t.monthsExtended!==1?"s":""," extension"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[D(new Date(t.startDate),"MMM d, yyyy")," - ",D(new Date(t.endDate),"MMM d, yyyy")]}),t.reason&&e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:t.reason})]}),e.jsx(p,{variant:"secondary",children:"Manual Override"})]},t.id))})]})]})]})}),e.jsx(z,{open:dt,onOpenChange:t=>{O(t),t||(ie(null),K(""),R(""),Q("announcement"))},children:e.jsxs(H,{children:[e.jsxs(B,{children:[e.jsx(G,{children:$?"Edit Announcement":"Create Announcement"}),e.jsx(J,{children:$?"Update the announcement details":"Create a new announcement that will be visible to all users"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"announcementTitle",children:"Title"}),e.jsx(I,{id:"announcementTitle",placeholder:"Announcement title",value:_,onChange:t=>K(t.target.value),"data-testid":"input-announcement-title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"announcementContent",children:"Content"}),e.jsx(le,{id:"announcementContent",placeholder:"Announcement message",value:Y,onChange:t=>R(t.target.value),"data-testid":"input-announcement-content"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"announcementType",children:"Type"}),e.jsxs(oe,{value:pe,onValueChange:t=>Q(t),children:[e.jsx(me,{"data-testid":"select-announcement-type",children:e.jsx(ue,{})}),e.jsxs(he,{children:[e.jsx(w,{value:"feature",children:"Feature"}),e.jsx(w,{value:"update",children:"Update"}),e.jsx(w,{value:"maintenance",children:"Maintenance"}),e.jsx(w,{value:"announcement",children:"Announcement"})]})]})]})]}),e.jsxs(X,{children:[e.jsx(m,{variant:"outline",onClick:()=>{O(!1),ie(null),K(""),R(""),Q("announcement")},children:"Cancel"}),e.jsx(m,{onClick:$?yt:jt,disabled:!_||!Y||($?Je.isPending:Ge.isPending),"data-testid":"button-confirm-announcement",children:$?"Update Announcement":"Create Announcement"})]})]})}),e.jsx(z,{open:ee,onOpenChange:A,children:e.jsxs(H,{className:"sm:max-w-md",children:[e.jsxs(B,{children:[e.jsx(G,{children:"Admin Secret Required"}),e.jsx(J,{children:"Enter your admin secret to access admin features. This will be stored securely in your session."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"adminSecret",children:"Admin Secret"}),e.jsx(I,{id:"adminSecret",type:"password",placeholder:"Enter admin secret",value:M,onChange:t=>te(t.target.value),onKeyDown:t=>{t.key==="Enter"&&M&&ze()},"data-testid":"input-admin-secret",autoFocus:!0})]})}),e.jsx(X,{children:e.jsx(m,{onClick:ze,disabled:!M,"data-testid":"button-set-secret",children:"Set Admin Secret"})})]})})]})}export{cs as default};
