import{Y as H,d as O,r,u as W,aa as Y,e as z,j as e,C as u,f as h,a1 as F,g as p,a8 as g,h as j,B as n,T as C,cd as I,G as S,ab as $,ac as l,ad as c,ae as o,af as d,W as f,ag as m,ai as q,b as L,bM as J,bl as K,b_ as b}from"./index-DI4YInPS.js";import{C as Q}from"./checkbox-BSel3sVP.js";import{s as P}from"./moving_signal_boomerang_slow-BYkUuerR.js";import{A as M}from"./arrow-left-Crys1qZm.js";import{S as B}from"./shield-alert-D5gOe91c.js";import"./index-B-eDo8U8.js";const Z=J({name:b().min(2,"Name must be at least 2 characters"),email:b().email("Invalid email address"),password:b().min(8,"Password must be at least 8 characters"),confirmPassword:b(),acceptTerms:K().refine(t=>t===!0,{message:"You must accept the terms and conditions"})}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function ne(){const[,t]=H(),{toast:a}=O(),[v,_]=r.useState(!1),[x,X]=r.useState(!1),[G,R]=r.useState(!1),[A,U]=r.useState(""),[T,E]=r.useState(!1),{data:N}=W({queryKey:["/api/auth/google/configured"]}),V=async()=>{try{E(!0);const s=await fetch("/api/auth/google/url"),k=await s.json();if(!s.ok)throw new Error(k.error||"Failed to initialize Google Sign-Up");window.location.href=k.url}catch(s){a({title:"Google Sign-Up Error",description:s.message||"Failed to start Google Sign-Up",variant:"destructive"}),E(!1)}},i=Y({resolver:q(Z),defaultValues:{name:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}}),y=z({mutationFn:async s=>(await L("POST","/api/auth/signup",{name:s.name,email:s.email,password:s.password})).json(),onSuccess:async s=>{R(!0),U(s.email),a({title:"Account Created!",description:s.message})},onError:s=>{a({title:"Sign up failed",description:s.message||"Please try again.",variant:"destructive"})}}),w=z({mutationFn:async()=>(await L("POST","/api/auth/resend-verification",{email:A})).json(),onSuccess:()=>{a({title:"Email Sent",description:"A new verification email has been sent to your inbox."})},onError:s=>{a({title:"Failed to resend",description:s.message||"Please try again later.",variant:"destructive"})}});r.useEffect(()=>{if(v&&!x){a({title:"Configuration Error",description:"PayPal is not configured. Please contact support.",variant:"destructive"});return}},[v,x,a]),r.useEffect(()=>{if(x&&window.paypal){a({title:"Configuration Error",description:"PayPal plan is not configured. Please contact support.",variant:"destructive"});return}},[x,a,t]);const D=s=>{y.mutate(s)};return G?e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",style:{backgroundImage:`url(${P})`,backgroundSize:"cover",backgroundPosition:"center bottom",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-background/85 dark:bg-background/90"}),e.jsxs(u,{className:"w-full max-w-2xl relative z-10",children:[e.jsxs(h,{className:"text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(F,{className:"h-16 w-16 text-green-500"})}),e.jsxs("div",{children:[e.jsx(p,{className:"text-3xl font-bold mb-2",children:"Check Your Email!"}),e.jsxs(g,{className:"text-base",children:["We've sent a verification link to ",e.jsx("strong",{children:A})]})]})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 bg-muted/50 rounded-lg p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:"What's next?"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-muted-foreground",children:[e.jsx("li",{children:"Check your email inbox for our verification message"}),e.jsx("li",{children:"Click the verification link to activate your account"}),e.jsx("li",{children:"Log in and start your 30-day free trial!"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground pt-4 border-t",children:[e.jsx("p",{className:"mb-2",children:"Didn't receive the email?"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"Check your spam or junk folder"}),e.jsx("li",{children:"Make sure you entered the correct email address"}),e.jsx("li",{children:"Wait a few minutes for the email to arrive"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{variant:"outline",className:"w-full",onClick:()=>w.mutate(),disabled:w.isPending,"data-testid":"button-resend-verification",children:w.isPending?"Sending...":"Resend Verification Email"}),e.jsxs(n,{variant:"ghost",className:"w-full",onClick:()=>t("/login"),"data-testid":"button-back-to-login",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]})]})]})]}):v?e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",style:{backgroundImage:`url(${P})`,backgroundSize:"cover",backgroundPosition:"center bottom",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-background/85 dark:bg-background/90"}),e.jsxs(u,{className:"w-full max-w-4xl relative z-10",children:[e.jsxs(h,{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(F,{className:"h-8 w-8 text-green-500"}),e.jsx(p,{className:"text-3xl font-bold",children:"Account Created!"})]}),e.jsx(g,{className:"text-lg",children:"Subscribe to activate your account"})]}),e.jsx(j,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-muted/50 rounded-lg p-6 space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"AI-Powered Stock Analysis"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Access insider trading opportunities from SEC filings with AI scoring, daily briefs for followed stocks, and smart notifications for high-value buy/sell signals."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(I,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Trading Tools & Collaboration"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create automated trading rules, run backtests with simulation charts, and collaborate with your team through stock comments and interest markers."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(B,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Managed Data & Infrastructure"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscription includes managed connections to premium data services (Alpha Vantage, Finnhub, OpenAI), secure cloud deployment, and continuous platform updates."})]})]})]})}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-6 space-y-4",children:[e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Complete your subscription to unlock all features"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{id:"paypal-button-container-undefined","data-testid":"paypal-button-container"})}),e.jsxs("div",{className:"text-center pt-4 border-t",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"After completing your subscription, you can log in to access your account."}),e.jsx(n,{variant:"outline",asChild:!0,"data-testid":"button-go-to-login",children:e.jsx(S,{href:"/login",children:"Go to Login"})})]})]})]})})]})]}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",style:{backgroundImage:`url(${P})`,backgroundSize:"cover",backgroundPosition:"center bottom",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-background/85 dark:bg-background/90"}),e.jsxs("div",{className:"w-full max-w-5xl grid md:grid-cols-2 gap-6 relative z-10",children:[e.jsxs(u,{className:"md:flex md:flex-col md:justify-center",children:[e.jsxs(h,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(C,{className:"h-8 w-8 text-primary"}),e.jsx(p,{className:"text-3xl font-bold",children:"signal2"})]}),e.jsx(g,{className:"text-base",children:"Professional stock trading dashboard with AI-powered analysis"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Insider Trading Signals"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Track SEC insider transactions with dual-agent AI analysis combining fundamental data and sector momentum. Get AI-scored buy/sell recommendations with personalized filters."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(I,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Real-Time Portfolio Tracking"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor holdings with live P&L tracking, automated price updates, and intelligent notifications for high-value opportunities and position changes."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(B,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Automated Trading Rules"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create trigger-based rules for automated trade execution. Backtest strategies with historical data and visualize performance with simulation charts."})]})]})]})})]}),e.jsxs(u,{children:[e.jsxs(h,{className:"text-center",children:[e.jsx(p,{className:"text-2xl",children:"Create Your Account"}),e.jsx(g,{children:"Start your 30-day free trial to access all features"})]}),e.jsxs(j,{className:"space-y-4",children:[(N==null?void 0:N.configured)&&e.jsxs(e.Fragment,{children:[e.jsxs(n,{type:"button",variant:"outline",className:"w-full gap-2 bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-700 text-zinc-700 dark:text-zinc-200",onClick:V,disabled:T,"data-testid":"button-google-signup",children:[e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),T?"Connecting...":"Sign up with Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or sign up with email"})})]})]}),e.jsx($,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(D),className:"space-y-4",children:[e.jsx(l,{control:i.control,name:"name",render:({field:s})=>e.jsxs(c,{children:[e.jsx(o,{children:"Name"}),e.jsx(d,{children:e.jsx(f,{placeholder:"John Doe",...s,"data-testid":"input-name"})}),e.jsx(m,{})]})}),e.jsx(l,{control:i.control,name:"email",render:({field:s})=>e.jsxs(c,{children:[e.jsx(o,{children:"Email"}),e.jsx(d,{children:e.jsx(f,{type:"email",placeholder:"john@example.com",...s,"data-testid":"input-email"})}),e.jsx(m,{})]})}),e.jsx(l,{control:i.control,name:"password",render:({field:s})=>e.jsxs(c,{children:[e.jsx(o,{children:"Password"}),e.jsx(d,{children:e.jsx(f,{type:"password",placeholder:"••••••••",...s,"data-testid":"input-password"})}),e.jsx(m,{})]})}),e.jsx(l,{control:i.control,name:"confirmPassword",render:({field:s})=>e.jsxs(c,{children:[e.jsx(o,{children:"Confirm Password"}),e.jsx(d,{children:e.jsx(f,{type:"password",placeholder:"••••••••",...s,"data-testid":"input-confirm-password"})}),e.jsx(m,{})]})}),e.jsx(l,{control:i.control,name:"acceptTerms",render:({field:s})=>e.jsxs(c,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(d,{children:e.jsx(Q,{checked:s.value,onCheckedChange:s.onChange,"data-testid":"checkbox-accept-terms"})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsxs(o,{className:"text-sm font-normal",children:["I accept the"," ",e.jsx(S,{href:"/terms",className:"text-primary hover:underline","data-testid":"link-terms",children:"Terms and Conditions"})]}),e.jsx(m,{})]})]})}),e.jsx(n,{type:"submit",className:"w-full",disabled:y.isPending,"data-testid":"button-signup",children:y.isPending?"Creating account...":"Create Account"})]})}),e.jsx("div",{className:"text-center pt-4 border-t",children:e.jsx(n,{variant:"ghost",asChild:!0,"data-testid":"button-back-to-login",children:e.jsxs(S,{href:"/login",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Back to Login"]})})})]})]})]})]})}export{ne as default};
