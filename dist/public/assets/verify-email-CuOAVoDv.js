import{c as x,Y as f,d as g,r as c,j as e,C as h,f as j,L as y,a1 as p,z as v,g as w,a8 as N,h as k,B as m}from"./index-DI4YInPS.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=x("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);function S(){const[,a]=f(),{toast:n}=g(),[s,t]=c.useState("loading"),[l,i]=c.useState(""),[E,u]=c.useState("");return c.useEffect(()=>{(async()=>{const d=new URLSearchParams(window.location.search).get("token");if(!d){t("error"),i("Invalid verification link");return}try{const r=await fetch(`/api/auth/verify-email?token=${d}`),o=await r.json();r.ok?(t("success"),i(o.message||"Email verified successfully!"),u(o.email||""),n({title:"Email Verified",description:"You can now log in to your account."}),setTimeout(()=>{a("/login")},2e3)):(t("error"),i(o.error||"Failed to verify email"))}catch(r){t("error"),i("An error occurred during verification"),console.error("Verification error:",r)}})()},[a,n]),e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-background via-background to-muted",children:e.jsxs(h,{className:"w-full max-w-md",children:[e.jsxs(j,{className:"text-center space-y-2",children:[s==="loading"&&e.jsx("div",{className:"flex justify-center",children:e.jsx(y,{className:"h-16 w-16 text-primary animate-spin"})}),s==="success"&&e.jsx("div",{className:"flex justify-center",children:e.jsx(p,{className:"h-16 w-16 text-green-500"})}),s==="error"&&e.jsx("div",{className:"flex justify-center",children:e.jsx(v,{className:"h-16 w-16 text-destructive"})}),e.jsxs(w,{className:"text-2xl",children:[s==="loading"&&"Verifying Email",s==="success"&&"Email Verified!",s==="error"&&"Verification Failed"]}),e.jsxs(N,{className:"text-base",children:[s==="loading"&&"Please wait while we verify your email address...",s==="success"&&l,s==="error"&&l]})]}),e.jsxs(k,{className:"space-y-4",children:[s==="success"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Redirecting to login page..."}),e.jsx(m,{className:"w-full",onClick:()=>a("/login"),"data-testid":"button-go-to-login",children:"Go to Login"})]}),s==="error"&&e.jsx("div",{className:"space-y-3",children:e.jsxs(m,{className:"w-full",variant:"outline",onClick:()=>a("/login"),"data-testid":"button-back-to-login",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})]})})}export{S as default};
